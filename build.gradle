plugins {
    id 'java'
    id 'war'
}
apply plugin : 'java'
apply plugin : 'war'

group 'org.example'
version '1.0-SNAPSHOT'

configurations {
    moreLibs
}
repositories {
    mavenCentral()
    flatDir { dirs "lib" }

}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
// https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api
    compileOnly 'jakarta.servlet:jakarta.servlet-api:4.0.4'

//// https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api
//    compileOnly 'javax.servlet:javax.servlet-api:4.0.1'


}


war {
    webAppDirectory = file('src/main/webapp')
    from 'src/rootContent' // adds a file-set to the root of the archive
    webInf { from 'src/additionalWebInf' } // adds a file-set to the WEB-INF dir.
    classpath fileTree('additionalLibs') // adds a file-set to the WEB-INF/lib dir.
    classpath configurations.moreLibs // adds a configuration to the WEB-INF/lib dir.
    webXml = file('src/someWeb.xml') // copies a file to WEB-INF/web.xml
}
test {
    useJUnitPlatform()
}